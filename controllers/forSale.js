import axios from"axios";import Handlebars from"handlebars";import database from"./firebaseConfig";export default function forSaleController(){axios.get("templates/forSale.hbs").then((e=>{const t=e.data;axios.get("templates/oneSnkrRow.hbs").then((e=>{const n=e.data;return function(e,t){const n=Handlebars.compile(e),o=Handlebars.compile(t);document.getElementById("root").innerHTML=n(),database.ref("snkrs").on("value",(e=>{const t=document.querySelector("tbody");t.innerHTML="",e.forEach((e=>{const n=e.val(),r=e.key;t.innerHTML+=o({...n,id:r})}))})),document.addEventListener("click",(e=>{if(e.target.classList.contains("edit-snkr-link")){e.preventDefault();const t=e.target.getAttribute("data-snkr-id");window.localStorage.setItem("snkrId",t),window.location.href="#/edit-snkr"}})),document.getElementById("new-snkr-form").addEventListener("submit",(e=>{e.preventDefault();const t={brand:document.querySelector("input[name='brand']").value,silhouette:document.querySelector("input[name='silhouette']").value,colorway:document.querySelector("input[name='colorway']").value,size:document.querySelector("input[name='size']").value,price:document.querySelector("input[name='price']").value};database.ref("snkrs").push(t).then((()=>{document.getElementById("new-snkr-form").reset(),$("#add-user-modal").modal("hide")}))}))}(t,n)}))}))}